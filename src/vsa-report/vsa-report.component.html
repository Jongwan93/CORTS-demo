<!-- Code for ALS/VSA Report -->

<!-- Header -->
<app-header></app-header>
<form id="VSAReport" method="post" action="/vsa-report">
  <!-- Basic Information Content -->
  <app-basic-information
    [corNumber]="corNumber"
    [routedToSelection]="routedToSelection"
    (routedToSelectionChangeDetect)="updateRoutedToSelection($event)"
    (statusIDChange)="updateStatusID($event)"
  >
  </app-basic-information>
  <!-- End of Basic Information (White Card) -->

  <!----------------------------------------------------------------->

  <!-- ALS/VSA Report -->
  <div class="container">
    <h4>ALS/VSA Report:</h4>
    <hr />

    <!-- ALS/VSA Report Content -->

    <!-- Report Type -->
    <!-- At least one or both options needs to be selected -->
    <div class="grid-item">
      <div class="checkbox-container">
        <label class="req-input">Report Type:*</label>
        <!-- ALS Checkbox -->
        <label for="als-intervention">
          <input
            type="checkbox"
            id="als"
            (change)="toggleReportType('als', $event)"
          />
          ALS Intervention
        </label>
        <!-- VSA Checkbox -->
        <label for="vsa">
          <input
            type="checkbox"
            id="vsa"
            (change)="toggleReportType('vsa', $event)"
          />
          VSA
        </label>
      </div>
    </div>

    <!-- ALS/VSA Report Grid Start-->
    <div class="grid-container">
      <!-- Pronounced By -->
      <div class="grid-item">
        <label class="vsa-req-input" for="pronouncedBy">Pronounced By</label>
        <input
          type="text"
          id="pronouncedBy"
          [disabled]="!isVSASelected"
          [(ngModel)]="pronouncedBy"
          name="pronouncedBy"
        />
      </div>

      <!-- Pronounced Date -->
      <div class="grid-item">
        <label class="vsa-req-input" for="pronouncedDateTime"
          >Pronounced Date/Time</label
        >
        <input
          type="datetime-local"
          id="pronouncedDateTime"
          [disabled]="!pronouncedBy.trim()"
        />
      </div>

      <!-- DNR -->
      <div class="grid-item">
        <label for="dnr" class="req-input">DNR*</label>
        <select
          id="dnr"
          [(ngModel)]="dnrTypeKey"
          name="dnrTypeKey"
          (change)="dnrTypeChange(dnrTypeKey)"
          required
        >
          <option value="">-- Select DNR --</option>
          <option *ngFor="let dnr of dnrTypeList" [value]="dnr.code">
            {{ dnr.displayName }}
          </option>
        </select>
      </div>

      <!-- ALS/VSA Details -->
      <div class="grid-item">
        <label class="req-input">ALS/VSA Details*</label>
        <textarea
          rows="5"
          maxlength="255"
          [(ngModel)]="alsCommentText"
          name="alsCommentText"
          (input)="isSaved = false"
          required
        ></textarea>
      </div>

      <!-- A/R Intruction & CPR Instruction -->
      <div class="details-checkbox-container">
        <label for="ar-instructions">
          <input type="checkbox" id="ar-instructions" /> A/R Instructions Given
        </label>
        <label for="cpr-instructions">
          <input type="checkbox" id="cpr-instructions" /> CPR Instructions Given
        </label>
      </div>
    </div>
    <!-- End of ALS/VSA Report Content -->
  </div>
  <!-- End of ALS/VSA Report (White Card) -->

  <!----------------------------------------------------------------->

  <!-- Narrative -->
  <div class="container">
    <h4>Narrative:</h4>
    <hr />

    <app-narrative
      [combinedEntries]="combinedEntries"
      [(narrativeCommentText)]="narrativeCommentText"
      (saveChanges)="saveChanges()"
      (saveChangesExit)="saveChangesExit()"
      (reload)="reload()"
    ></app-narrative>
  </div>
  <!-- End of Narrative (White Card)-->
</form>
