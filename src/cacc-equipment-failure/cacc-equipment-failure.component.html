<!-- Code for the CACC Equipment Falure Report Page -->

<!-- Header -->
<div class="container">
  <header align="center">

    <!-- Ontario Logo -->
    <img class="logo" src="OntarioMOH.png" alt="Ontario MOH Logo">

    <!-- Title -->
    <div name="title">
      <h1>
        CORTS - CACC Operational <br />
        Reports Tracking System
      </h1>
      <h3>454 - MIS CACC</h3>
    </div>

    <!-- Navigation Buttons -->
    <div name="nav">
      <button class="navBtn" routerLink="/mainpage">Start Page</button>
      <button class="navBtn" routerLink="/query">Search</button>
      <button class="navBtn" routerLink="/logout">Logout</button>
    </div>
  </header>
</div>

<!----------------------------------------------------------------->

<form>

  <!-- Basic Information -->
  <div class="container">
    <h2>CACC Equipment Failure Report</h2>
    <hr />

    <h4>Basic Information:</h4>

    <!-- Basic Information Content -->
    <div class="grid-container">

      <!-- Created -->
      <div class="grid-item">
        <label>Created</label>
        <input type="text" value="01/29/2025 09:45:41" disabled />
      </div>

      <!-- COR # -->
      <div class="grid-item">
        <label>COR #</label>
        <input type="text" value="New" disabled />
      </div>

      <!-- Due Date -->
      <div class="grid-item">
        <label>Due Date</label>
        <input type="text" value="01/31/2025" disabled />
      </div>

      <!-- Status -->
      <div class="grid-item">
        <label>Status</label>
        <input type="text" value="New" disabled />
      </div>

      <!-- COR Type -->
      <div class="grid-item">
        <label>COR Type</label>
        <input type="text" value="CACC Equipment Failure" disabled />
      </div>

      <!-- Creator -->
      <div class="grid-item">
        <label>Creator</label>
        <input type="text" value="29030, CASSONDRA FOERTER - COM" disabled />
      </div>

      <!-- Route To -->
      <div class="grid-item">
        <label>Route To</label>
        <select>
          <option selected>29030, CASSONDRA FOERTER - COM</option>
          <option>Supervisor Group</option>
        </select>
      </div>

      <!-- Incident (Call) # -->
      <div class="grid-item">
        <label>Incident (Call) #</label>
        <input type="text" />
        <button>View in VisiCAD</button>
      </div>

      <!-- Related CORs -->
      <div class="grid-item">
        <label>Related CORs</label>
        <input type="text" id="related-cors-input" />
        <textarea rows="5"></textarea>
        <div class="form-actions">
          <button class="btn primary">Add Related COR</button>
          <button class="btn warn">Remove Related COR</button>
        </div>
      </div>
    </div> <!-- End of Basic Information Content -->
  </div> <!-- End of Basic Information (White Card) -->

  <!----------------------------------------------------------------->

  <!-- CACC Equipment Failure Report -->
  <div class="container">
    <h4>CACC Equipment Failure Report:</h4>
    <hr />

    <!-- CACC Equipment Failure Report Content -->
    <div class="grid-container">

      <!-- Equipment Type -->
      <div class="grid-item">
        <label class="req-input">Equipment Type*</label>
        <select required>
          <option selected>Admin Vehicles</option>
          <option>Alarms</option>
          <option>Comm Unit</option>
          <option>Dictaphone</option>
          <option>Facsimile</option>
          <option>Other</option>
          <option>Printer</option>
          <option>Radio</option>
          <option>Telecom</option>
          <option>Telephone</option>
          <option>UPS/Generator</option>
          <option>Workstation</option>
        </select>
      </div>

      <!-- Location -->
      <div class="grid-item">
        <label class="req-input">Location*</label>
        <select required>
          <option selected>CACC</option>
          <option>Hospital</option>
          <option>Other</option>
          <option>Station</option>
          <option>Tower</option>
        </select>
      </div>

      <!-- Failure Date/Time -->
      <div class="grid-item">
        <label class="req-input">Failure Date/Time*</label>
        <input type="datetime-local" id="failureDateTime" class="date-picker" required>
      </div>

      <!-- Service Request To -->
      <div class="grid-item">
        <label for="pronouncedDateTime">Service Request To</label>
        <input type="text">
        <input type="datetime-local" id="pronouncedDateTime" />
      </div>

      <!-- Service Responded By -->
      <div class="grid-item">
        <label for="pronouncedDateTime">Service Responded By</label>
        <input type="text">
        <input type="datetime-local" id="pronouncedDateTime" />
      </div>

      <!-- Service Completed By -->
      <div class="grid-item">
        <label for="pronouncedDateTime">Service Completed By</label>
        <input type="text">
        <input type="datetime-local" id="pronouncedDateTime" />
      </div>

      <!-- Failure Details or Other Info -->
      <div class="grid-item">
        <label class="req-input">Failure Details or Other Info*</label>
        <textarea rows="5" required></textarea>
      </div>

      <!-- Response Delay -->
      <div class="grid-item">
        <label for="responseDelay">Response Delay</label>
        <!-- Response Delay Checkbox -->
        <div class="time-duration-container">
          <input type="checkbox" id="delay" (change)="toggleDelayTime()"/>
          <input type="number" id="delay-hours" min="0" max="99" step="1" value="00" [disabled]="!isDelaySelected">
          <p> : </p>
          <input type="number" id="delay-minutes" min="0" max="59" step="1" value="00" [disabled]="!isDelaySelected">
        </div>
      </div>
    </div> <!-- End of CACC Equipment Failure Report Content -->
  </div>  <!-- End of CACC Equipment Failure Report (White Card) -->

  <!----------------------------------------------------------------->

  <!-- Narrative -->
  <div class="container">
    <h4>Narrative:</h4>
    <hr>

    <!-- Narative Table -->
    <table width="100%">
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>User</th>
          <th>Comments</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>01/29/2025</td>
          <td>09:45:41</td>
          <td>29030</td>
          <td>New COR Created</td>
        </tr>
      </tbody>
    </table>

    <!-- Narrative Container for content under the table -->
    <div class="narrative-container">

      <!-- Narrative Comments -->
      <div class="grid-item">
        <label>Comments</label>
        <textarea rows="5"></textarea>
      </div>

      <!-- Form Action Buttons -->
      <div class="form-actions">
        <button class="btn primary" (click)="saveChanges()">Save Changes</button>
        <button class="btn primary" (click)="saveAndExit()">
          Save Changes and Exit
        </button>
        <button class="btn warn" (click)="reloadPage()">Reload Page</button>
      </div>

    </div> <!-- End Narrative Container -->
  </div> <!-- End of Narrative (White Card)-->
</form>
