<!-- Code for the CACC Equipment Falure Report Page -->

<!-- Header -->
<div class="container">
  <header align="center">
    <!-- Ontario Logo -->
    <img class="logo" src="OntarioMOH.png" alt="Ontario MOH Logo" />

    <!-- Title -->
    <div name="title">
      <h1>
        CORTS - CACC Operational <br />
        Reports Tracking System
      </h1>
      <h3>454 - MIS CACC</h3>
    </div>

    <!-- Navigation Buttons -->
    <div name="nav">
      <button class="navBtn" routerLink="/mainpage">Start Page</button>
      <button class="navBtn" routerLink="/query">Search</button>
      <button class="navBtn" routerLink="/logout">Logout</button>
    </div>
  </header>
</div>

<!-- Basic Information Content -->
<app-basic-information
  [corNumber]="corNumber"
  [routedToSelection]="routedToSelection"
  (routedToSelectionChangeDetect)="updateRoutedToSelection($event)"
  (statusIDChange)="updateStatusID($event)"
>
</app-basic-information>

<!----------------------------------------------------------------->

<form id="IncidentReport">
  <!--Cut Line-->

  <!----------------------------------------------------------------->

  <!-- Incident Report -->
  <div class="container">
    <h4>Incident Report:</h4>
    <hr />

    <!-- Incident Report Content -->
    <div class="grid-container">
      <!-- Incident Type -->
      <div class="grid-item">
        <label class="req-input">Incident Type*</label>
        <select
          [(ngModel)]="incidentTypeKey"
          name="incidentType"
          (change)="incidentTypeChange(incidentTypeKey)"
          required
        >
          <option value="">-- Select Incident Type --</option>
          <option
            *ngFor="let type of incidentTypeList"
            [value]="type.incidentTypeKey"
          >
            {{ type.displayName }}
          </option>
        </select>
      </div>

      <!-- Date/Time of Incident -->
      <div class="grid-item">
        <label class="req-input" for="DateTimeofIncident"
          >Date/Time of Incident*</label
        >
        <input
          type="datetime-local"
          id="DateTimeofIncident"
          [(ngModel)]="incidentDateTime"
          name="incidentDateTime"
          required
        />
      </div>

      <!-- Incident Details -->
      <div class="grid-item">
        <label class="req-input">Incident Details*</label>
        <textarea
          rows="5"
          maxlength="255"
          [(ngModel)]="incidentCommentText"
          name="incidentCommentText"
          required
        ></textarea>
      </div>
    </div>
    <!-- End of Incident Report Details -->
  </div>
  <!-- End of Incident Report (White Card)-->

  <!----------------------------------------------------------------->

  <!-- Narrative -->
  <div class="container">
    <h4>Narrative:</h4>
    <hr />

    <app-narrative
      [combinedEntries]="combinedEntries"
      [(narrativeCommentText)]="narrativeCommentText"
      (saveChanges)="saveChanges()"
      (saveChangesExit)="saveChangesExit()"
      (reload)="reload()"
    ></app-narrative>
  </div>
  <!-- End of Narrative (White Card)-->
</form>
