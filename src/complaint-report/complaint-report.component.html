<!-- Code for the CACC Equipment Falure Report Page -->

<!-- Header -->
<app-header></app-header>

<!----------------------------------------------------------------->

<form
  id="frmCOR"
  method="post"
  action="COR.ASP?WCI=tpl_cor&amp;WCE=Submit&amp;WCU="
  target="_top"
>
  <!-- Basic Information (White Card) -->
  <app-basic-information
    [corNumber]="corNumber"
    [routedToSelection]="routedToSelection"
    (routedToSelectionChangeDetect)="updateRoutedToSelection($event)"
    (statusIDChange)="updateStatusID($event)"
  >
  </app-basic-information>
  <!-- End of Basic Information (White Card)-->

  <!----------------------------------------------------------------->

  <!-- Complaint Details (White Card)-->
  <div class="container">
    <h4 class="section-title">Complaint Details:</h4>

    <!-- Complaint Details Content -->
    <div class="grid-container-2c">
      <div class="grid-column">
        <!-- Complaint/Inquiry -->
        <div class="grid-item">
          <label class="req-input" for="complaint-type"
            >Complaint/Inquiry*</label
          >
          <select
            [(ngModel)]="complaintTypeKey"
            name="complaintType"
            (change)="complaintTypeChange(complaintTypeKey)"
            appDisableIf
            required
          >
            <option value="">-- Select Complaint Type --</option>
            <option
              *ngFor="let type of complaintTypeList"
              [value]="type.complaintTypeKey"
            >
              {{ type.displayName }}
            </option>
          </select>
        </div>

        <!-- Date/Time of Complaint -->
        <div class="grid-item">
          <label class="req-input" for="complaint-date"
            >Date/Time of Complaint*</label
          >
          <input
            type="datetime-local"
            id="complaint-date"
            [(ngModel)]="complaintDateTime"
            name="complaintDateTime"
            appDisableIf
            required
          />
        </div>
      </div>

      <!-- Complaint Details or Other Info -->
      <div class="grid-item">
        <label class="req-input">Complaint Details or Other Info*</label>
        <textarea
          rows="5"
          maxlength="255"
          [(ngModel)]="complaintCommentText"
          name="complaintCommentText"
          (input)="isSaved = false"
          appDisableIf
          required
        ></textarea>
      </div>
    </div>
    <!-- End of Complaint Details Content -->

    <h4 class="section-title">Contact Information:</h4>

    <!-- Contact Information -->
    <div class="grid-container">
      <!-- Last Name -->
      <div class="grid-item">
        <label for="last-name">Last Name</label>
        <input
          type="text"
          id="last-name"
          [(ngModel)]="lastName"
          name="lastName"
          appDisableIf
        />
      </div>

      <!-- First Name -->
      <div class="grid-item">
        <label for="first-name">First Name</label>
        <input
          type="text"
          id="first-name"
          [(ngModel)]="firstName"
          (ngModelChange)="updateFullName()"
          name="firstName"
          appDisableIf
        />
      </div>

      <!-- Phone # -->
      <div class="grid-item">
        <label for="phone">Phone #</label>
        <input
          type="text"
          id="phone"
          [(ngModel)]="phoneNumber"
          (ngModelChange)="updateFullName()"
          name="phoneNumber"
          maxlength="10"
          appDisableIf
        />
      </div>
    </div>
    <!-- End of Contact Information-->
  </div>
  <!-- End of Complaint Details (White Card)-->

  <!----------------------------------------------------------------->

    <!-- Narrative -->
<div class="container">
  <h4>Narrative:</h4>
  <hr />

  <app-narrative
    [combinedEntries]="combinedEntries"
    [(narrativeCommentText)]="narrativeCommentText"
    (saveChanges)="saveChanges()"
    (saveChangesExit)="saveChangesExit()"
    (reload)="reload()"
  ></app-narrative>
</div>
  <!-- End of Narrative (White Card)-->
</form>
