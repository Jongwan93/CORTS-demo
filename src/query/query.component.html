<div class="container">
  <!--Header-->
  <header align="center">
    <!-- Ontario Logo -->
    <img class="logo" src="OntarioMOH.png" alt="Ontario MOH Logo" />

    <!-- Title -->
    <div name="title">
      <h1>
        CORTS - CACC Operational <br />
        Reports Tracking System
      </h1>
      <h3>454 - MIS CACC</h3>
    </div>
    <div name="nav">
      <button class="navBtn" routerLink="/mainpage">Start Page</button>
      <button class="navBtn" routerLink="/logout">Logout</button>
    </div>
  </header>
</div>

<!-- Query Form -->
<div class="container">
  <h2>CACC Operational Report Query</h2>
  <hr />
  <form
    id="Query"
    method="post"
    action="Search.ASP?WCI=tplSearchQuery&WCE=Submit&WCU="
    target="_top"
  >
    <div class="grid-container">
      <!-- Date Created -->
      <div class="grid-item">
        <label>Date Created</label>
        <div class="date-field">
          <label class="date-label">From:</label>
          <input type="date" id="objDateFrom" name="objDateFrom" />
        </div>
        <div class="date-field">
          <label class="date-label">To:</label>
          <input type="date" id="objDateTo" name="objDateTo" />
        </div>
        <div class="inline-checkbox">
          <input type="checkbox" (click)="EnableDate('objDate')" />
          <span>All Dates</span>
        </div>
      </div>

      <!-- Date Due -->
      <div class="grid-item">
        <label>Date Due</label>
        <div class="date-field">
          <label class="date-label">From:</label>
          <input type="date" id="objDateDueFrom" name="objDateDueFrom" />
        </div>
        <div class="date-field">
          <label class="date-label">To:</label>
          <input type="date" id="objDateDueTo" name="objDateDueTo" />
        </div>
        <div class="inline-checkbox">
          <input type="checkbox" (click)="EnableDate('objDateDue')" />
          <span>All Dates</span>
        </div>
      </div>

      <!-- COR# -->
      <div class="grid-item">
        <label>COR #</label>
        <input type="text" name="txtCorNum" maxlength="7" />
      </div>

      <!-- Incident (Call) # -->
      <div class="grid-item">
        <label>Incident (Call) #</label>
        <input type="text" name="txtIncidentNum" maxlength="16" />
      </div>

      <!-- Creator -->
      <div class="grid-item">
        <label>Creator</label>
        <select name="drpCreator" class="CTSR" multiple>
          <option value="">(All)</option>
          <option
            *ngFor="let employee of employees"
            [value]="employee.empId"
            name="empId"
          >
            {{ employee.empName }} - {{ employee.code }}
          </option>
        </select>
      </div>

      <!-- COR Type -->
      <div class="grid-item">
        <label>Type</label>
        <select name="drpType" class="CTSR" multiple>
          <option value="">(All)</option>
          <option
            *ngFor="let type of cortTypes"
            [value]="type.cORTypeKey"
            name="cORTypeKey"
          >
            {{ type.displayName }}
          </option>
        </select>
      </div>

      <!-- Status -->
      <div class="grid-item">
        <label>Status</label>
        <select name="drpStatus" class="CTSR" multiple>
          <option value="">(All)</option>
          <option
            *ngFor="let status of statuses"
            [value]="status.cORStatusKey"
            name="cORStatusKey"
          >
            {{ status.displayName }}
          </option>
        </select>
      </div>

      <!-- Routed To -->
      <div class="grid-item">
        <label>Routed To</label>
        <select name="drpAssign" class="CTSR" multiple>
          <option value="" class="All">(All)</option>
          <ng-container *ngFor="let route of routes">
            <option [value]="'group-' + route.code" class="group-option">
              {{ route.displayName }}
            </option>
            <option
              *ngFor="let emp of groupedRoutes[route.displayName]"
              [value]="emp.empId"
            >
              {{ emp.empName }} - {{ emp.functionalityGroup }}
            </option>
          </ng-container>
        </select>
      </div>
    </div>
  </form>

  <hr />

  <!-- Full Text Search -->
  <div class="grid-container-2c">
    <div class="grid-item">
      <label>Full Text Search</label>
      <input type="text" name="txtFulltext" placeholder="Enter search text" />
    </div>

    <!-- Sort By -->
    <div class="grid-item">
      <label>Sort by</label>
      <select name="drpSortation">
        <option value="CORNumber:DESC">COR #</option>
        <option value="CreateDate:DESC">Date Created</option>
        <option value="Type:ASC">Type of COR</option>
        <option value="CADIncidentNum:ASC">Incident (Call) #</option>
        <option value="Createdby:ASC">Creator</option>
        <option value="AssignedTo:ASC">Routed To</option>
        <option value="DueDate:ASC">Date Due</option>
        <option value="Status:ASC">Status</option>
      </select>
    </div>
  </div>

  <!-- Search Button -->
  <div class="form-actions" align="center">
    <button mat-raised-button color="primary" type="submit">
      Search for CORs
    </button>
  </div>
</div>

<div class="container">
  <!-- Search Results -->
  <div class="results">
    <h1>Search Results</h1>
    <table width="100%">
      <thead>
        <tr>
          <th>Date/Time</th>
          <th>Type</th>
          <th>Incident (Call) #</th>
          <th>COR #</th>
          <th>Creator</th>
          <th>Routed To</th>
          <th>Date Due</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="8">
            No results found. Try again using different search parameters.
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <div class="pagination">
      <button [disabled]="true" (click)="SetDirection('Prev')">
        Prev Page
      </button>
      <button [disabled]="true" (click)="SetDirection('Next')">
        Next Page
      </button>
    </div>
  </div>
</div>
